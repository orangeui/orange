/**
 * Grid
 */

/**
  Container
*/
.container {
  max-width: $container-max-width;

  /*
   Responsive media query
   On XX Small screens and down, container is full width
 */
  @media #{$xsmall-and-up} {
    width: 420px;
  }
  @media #{$small-and-up} {
    width: 580px;
  }

  @media #{$medium-and-up} {
    width: 720px;
  }

  @media #{$large-and-up} {
    width: 960px;
  }

  @media #{$xlarge-and-up} {
    width: 1140px;
  }

  @media #{$xxlarge-and-up} {
    width: 1280px;
  }
}

.container, .container-fluid {
  margin-right: auto;
  margin-left: auto;
  padding-right: $container-gap;
  padding-left: $container-gap;
}

/**
  Grid
*/
@mixin grid-column-auto-fill ($min-width) {
  grid-template-columns: repeat(auto-fill, minmax($min-width, $grid-column-max-width));
}

/* Grid (usually it was called row) */
.grid {
  display: grid;
  grid-gap: $grid-gap;
  grid-template-columns: repeat($grid-column-number, 1fr);
}

/* Auto Layout */
.grid--columns-auto {
  @include grid-column-auto-fill($grid-column-min-width-regular);

  &-narrow {
    @include grid-column-auto-fill($grid-column-min-width-narrow);
  }

  &-wide {
    @include grid-column-auto-fill($grid-column-min-width-wide);
  }
}

@mixin grid-span ($end, $property, $class, $span) {
  @for $i from 1 through $end {
    @if ($span == false) {
      .#{$class}-#{$i} {
        grid-#{$property}: span $i;
      }
    } @else {
      .#{$class}-pos-#{$i} {
        grid-#{$property}: $i;
      }
    }
  }
}

/* Column span */
@if $include-grid-column-span {
  @include grid-span($grid-column-number, 'column', 'col', false);
}

/* Column exact positions */
@if $include-grid-column-exact {
  @include grid-span($grid-column-number, 'column', 'col', true);
}

/* Row span */
@if $include-grid-row-span {
  @include grid-span($grid-row-number, 'row', 'row', false);
}

/* Row exact positions */
@if $include-grid-row-exact {
  @include grid-span($grid-row-number, 'row', 'row', true);
}

/* Column from - to position */
@if $include-grid-column-from-to {
  @for $column from 1 through $grid-column-number {
    @for $i from 1 through $column {
      @if $i < $column {
        .col-#{$i}\/#{$column} {
          grid-column: #{$i}/#{$column + 1}; // Add +1 because the "grid-column-end" ends before the actual number of column and not with it
        }
      }
    }
  }
}

/* Row from - to position */
@if $include-grid-row-from-to {
  @for $row from 1 through $grid-row-number {
    @for $i from 1 through $row {
      @if $i < $row {
        .row-#{$i}\/#{$row} {
          grid-row: #{$i}/#{$row + 1}; // Add +1 because the "grid-column-end" ends before the actual number of column and not with it
        }
      }
    }
  }
}
